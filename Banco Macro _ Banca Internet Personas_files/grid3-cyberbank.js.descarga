grid={htmlTableToGrid:function(a){if($("#"+a).attr("isGrid")=="true"){grid.singleConversion($("#"+a))}},htmlTablesToGrid:function(){$('table[isGrid="true"]').each(function(a){grid.singleConversion($(this))})},singleConversion:function(h){var a=new Array();var e=h.attr("id");var d="#myPager_"+e;var m=h.attr("dependency");var k=h.attr("bigset")=="true";var c=h.attr("sortable")=="true";var b={caption:h.attr("caption"),altRows:true,altclass:"old",autowidth:true,shrinkToFit:false,pager:d,hidegrid:false,rowNum:h.attr("registersPerPage"),rowTotal:h.attr("totalRecords"),cmTemplate:{sortable:c},emptyrecords:"No hay registros que mostrar."};if(!c){b.gridComplete=function(){grid.removeCellGridSeparator($(grid.hashedGrid(e)))}}if(!k){if(h.attr("selectionMode")!="none"){b.multiselect=true}if(h.attr("selectionMode")=="single"){b.beforeSelectRow=function(i,j){jQuery(grid.hashed(e)).jqGrid("resetSelection");return h.attr("selectionMode")=="single"}}}else{renderer.toBigset(b,e);tableToGrid(grid.hashed(e),b);return}if(grid.hasDependency(m)){renderer.toGrid(h.attr("embedded")=="true",b,m,e)}$(grid.hashed(e)+" input:checkbox").each(function(j){a[j]=$(this).val()});$(grid.hashed(e)+" input:radio").each(function(j){a[j]=$(this).val()});tableToGrid(grid.hashed(e),b);for(var g=0,f=0;g<$(grid.hashedGrid(e)+" input:checkbox").length;g++){if(h.attr("selectionMode")=="multi"&&g==0){continue}if(h.attr("selectionMode")=="single"&&g==0){$($(grid.hashedGrid(e)+" input:checkbox").get(g)).hide();continue}$($(grid.hashedGrid(e)+" input:checkbox").get(g)).attr("name","encodedcollection_"+e);$($(grid.hashedGrid(e)+" input:checkbox").get(g)).attr("value",a[f]);f++}jQuery(grid.hashed(e)).jqGrid("navGrid",d,{edit:false,add:false,del:false});var l="pg_myPager_"+e;$("div[id='"+l+"'] td[dir='ltr'] input[type='text']").val(h.attr("pagenumber")).removeClass();$("#sp_1_myPager_"+e).html(h.attr("maxPages"));grid.manualBind(e)},hasDependency:function(a){return a!=undefined&&a.length>0},hashed:function(a){return"#"+a},hashedGrid:function(a){return"#gview_"+a},manualBind:function(b,a){$("#next_myPager_"+b).bind("click",{tableId:b,aJump:1},function(c){doPageJump(c.data.tableId,c.data.aJump)});$("#last_myPager_"+b).bind("click",{tableId:b,aJump:2},function(c){doPageJump(c.data.tableId,c.data.aJump)});$("#prev_myPager_"+b).bind("click",{tableId:b,aJump:-1},function(c){doPageJump(c.data.tableId,c.data.aJump)});$("#first_myPager_"+b).bind("click",{tableId:b,aJump:-2},function(c){doPageJump(c.data.tableId,c.data.aJump)})},modifyGridImages:function(g,a,e,c,d){if(g){$("#first_myPager_"+d).removeClass("ui-state-disabled")}else{$("#first_myPager_"+d).addClass("ui-state-disabled")}if(a){$("#prev_myPager_"+d).removeClass("ui-state-disabled")}else{$("#prev_myPager_"+d).addClass("ui-state-disabled")}if(e){$("#next_myPager_"+d).removeClass("ui-state-disabled")}else{$("#next_myPager_"+d).addClass("ui-state-disabled")}if(c){$("#last_myPager_"+d).removeClass("ui-state-disabled")}else{$("#last_myPager_"+d).addClass("ui-state-disabled")}},estilarCelda:function(c,f,e,a,d){var b=f.split("§");e[a.name]=e[a.name].split("§")[0];return" title='"+b[0]+"' class='"+b[1]+"'"},removeCellGridSeparator:function(a){jQuery("tbody > tr > td",a).each(function(){var b=$(this).html().indexOf("§");if(b!=-1){$(this).html($(this).html().substring(0,b))}})}};